<?xml version="1.0" encoding="ISO-8859-1"?>
<!--

    Copyright (C) 2000 - 2012 Silverpeas

    This program is free software: you can redistribute it and/or modify
    it under the terms of the GNU Affero General Public License as
    published by the Free Software Foundation, either version 3 of the
    License, or (at your option) any later version.

    As a special exception to the terms and conditions of version 3.0 of
    the GPL, you may redistribute this Program in connection with Free/Libre
    Open Source Software ("FLOSS") applications as described in Silverpeas's
    FLOSS exception.  You should have received a copy of the text describing
    the FLOSS exception, and it is also available here:
    "http://www.silverpeas.org/legal/licensing"

    This program is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU Affero General Public License for more details.

    You should have received a copy of the GNU Affero General Public License
    along with this program.  If not, see <http://www.gnu.org/licenses/>.

-->

<contribution product="busCore">

  <requirement>
  </requirement>

  <current version="029">
    <create_table>
      <file name="mssql\busCore\029\create_table.sql" type="sqlstatementlist" delimiter=";" keepdelimiter="NO"/>
      <file name="mssql\busCore\029\create_table_production.sql" type="sqlstatementlist" delimiter=";" keepdelimiter="NO"/>
    </create_table>
    <create_constraint>
      <file name="mssql\busCore\029\create_constraint.sql" type="sqlstatementlist" delimiter=";" keepdelimiter="NO"/>
      <file name="mssql\busCore\029\create_constraint_production.sql" type="sqlstatementlist" delimiter=";" keepdelimiter="NO"/>
    </create_constraint>
    <init>
      <file name="mssql\busCore\029\init.sql" type="sqlstatementlist" delimiter=";" keepdelimiter="NO"/>
      <file name="mssql\busCore\029\init_production.sql" type="sqlstatementlist" delimiter="\nGO" keepdelimiter="NO"/>
      <file name="java\dbBuilder_ep.jar" type="javalib" classname="org.silverpeas.dbbuilder_ep.DbBuilder_ep" methodname="run"/>
    </init>
    <create_index>
      <file name="mssql\busCore\029\create_index_production.sql" type="sqlstatementlist" delimiter=";" keepdelimiter="NO"/>
    </create_index>
    <drop_index>
      <file name="mssql\busCore\029\drop_index_production.sql" type="sqlstatementlist" delimiter=";" keepdelimiter="NO"/>
    </drop_index>
    <drop_table>
      <file name="mssql\busCore\029\drop_table.sql" type="sqlstatementlist" delimiter=";" keepdelimiter="NO"/>
      <file name="mssql\busCore\029\drop_table_production.sql" type="sqlstatementlist" delimiter=";" keepdelimiter="NO"/>
    </drop_table>
    <drop_constraint>
      <file name="mssql\busCore\029\drop_constraint.sql" type="sqlstatementlist" delimiter=";" keepdelimiter="NO"/>
      <file name="mssql\busCore\027\drop_constraint_production.sql" type="sqlstatementlist" delimiter=";" keepdelimiter="NO"/>
    </drop_constraint>
    <clean>
      <file name="mssql\busCore\029\clean.sql" type="sqlstatementlist" delimiter=";" keepdelimiter="NO"/>
      <file name="mssql\busCore\029\clean_production.sql" type="sqlstatementlist" delimiter=";" keepdelimiter="NO"/>
    </clean>
  </current>

  <upgrade version="002">
    <create_table>
      <file name="mssql\busCore\up002\create_table.sql" type="sqlstatementlist" delimiter=";" keepdelimiter="NO"/>
    </create_table>
  </upgrade>

  <upgrade version="003">
    <create_table>
      <file name="mssql\busCore\up003\drop_constraint.sql" type="sqlstatementlist" delimiter=";" keepdelimiter="NO"/>
      <file name="mssql\busCore\up003\create_table.sql" type="sqlstatementlist" delimiter=";" keepdelimiter="NO"/>
    </create_table>
    <create_constraint>
      <file name="mssql\busCore\up003\create_constraint.sql" type="sqlstatementlist" delimiter=";" keepdelimiter="NO"/>
    </create_constraint>
    <create_index>
      <file name="mssql\busCore\up003\create_index.sql" type="sqlstatementlist" delimiter=";" keepdelimiter="NO"/>
    </create_index>
  </upgrade>

  <upgrade version="004">
    <create_table>
      <file name="mssql\busCore\up004\create_table.sql" type="sqlstatementlist" delimiter=";" keepdelimiter="NO"/>
    </create_table>
  </upgrade>

  <upgrade version="005">
    <create_table>
      <file name="mssql\busCore\up005\create_table.sql" type="sqlstatementlist" delimiter=";" keepdelimiter="NO"/>
    </create_table>
  </upgrade>

  <upgrade version="006">
    <create_table>
      <file name="mssql\busCore\up006\create_table.sql" type="sqlstatementlist" delimiter=";" keepdelimiter="NO"/>
    </create_table>
  </upgrade>

  <upgrade version="007">
    <create_table>
      <file name="mssql\busCore\up007\create_table.sql" type="sqlstatementlist" delimiter=";" keepdelimiter="NO"/>
    </create_table>
  </upgrade>

  <upgrade version="008">
    <create_table>
      <file name="mssql\busCore\up008\create_table.sql" type="sqlstatementlist" delimiter=";" keepdelimiter="NO"/>
    </create_table>
  </upgrade>

  <upgrade version="009">
    <create_table>
      <file name="mssql\busCore\up009\create_table.sql" type="sqlstatementlist" delimiter=";" keepdelimiter="NO"/>
    </create_table>
  </upgrade>

  <upgrade version="010">
    <create_table>
      <file name="mssql\busCore\up010\create_table_production.sql" type="sqlstatementlist" delimiter=";" keepdelimiter="NO"/>
    </create_table>
    <create_constraint>
      <file name="mssql\busCore\up010\create_constraint_production.sql" type="sqlstatementlist" delimiter=";" keepdelimiter="NO"/>
    </create_constraint>
  </upgrade>

  <upgrade version="011">
    <create_table>
      <file name="mssql\busCore\up011\create_table.sql" type="sqlstatementlist" delimiter=";" keepdelimiter="NO"/>
      <file name="mssql\busCore\up011\create_table_production.sql" type="sqlstatementlist" delimiter=";" keepdelimiter="NO"/>
    </create_table>
    <create_constraint>
      <file name="mssql\busCore\up011\create_constraint_production.sql" type="sqlstatementlist" delimiter=";" keepdelimiter="NO"/>
    </create_constraint>
  </upgrade>

  <upgrade version="012">
    <create_table>
      <file name="mssql\busCore\up012\create_table_production.sql" type="sqlstatementlist" delimiter=";" keepdelimiter="NO"/>
    </create_table>
  </upgrade>

  <upgrade version="013">
    <create_table>
      <file name="mssql\busCore\up013\create_table.sql" type="sqlstatementlist" delimiter=";" keepdelimiter="NO"/>
    </create_table>
  </upgrade>

  <upgrade version="014">
    <create_table>
      <file name="mssql\busCore\up014\create_table.sql" type="sqlstatementlist" delimiter=";" keepdelimiter="NO"/>
    </create_table>
  </upgrade>

  <upgrade version="015">
    <create_table>
      <file name="mssql\busCore\up015\create_table.sql" type="sqlstatementlist" delimiter=";" keepdelimiter="NO"/>
    </create_table>
    <create_index>
      <file name="mssql\busCore\up015\create_index.sql" type="sqlstatementlist" delimiter=";" keepdelimiter="NO"/>
    </create_index>
  </upgrade>

  <upgrade version="016">
    <create_table>
      <file name="mssql\busCore\up016\create_table.sql" type="sqlstatementlist" delimiter=";" keepdelimiter="NO"/>
    </create_table>
  </upgrade>

  <upgrade version="017">
    <create_table>
      <file name="mssql\busCore\up017\create_table.sql" type="sqlstatementlist" delimiter=";" keepdelimiter="NO"/>
    </create_table>
  </upgrade>

  <upgrade version="018">
    <create_table>
      <file name="mssql\busCore\up018\create_table.sql" type="sqlstatementlist" delimiter=";" keepdelimiter="NO"/>
    </create_table>
  </upgrade>

  <upgrade version="019">
    <create_table>
      <file name="mssql\busCore\up019\create_table.sql" type="sqlstatementlist" delimiter=";" keepdelimiter="NO"/>
    </create_table>
  </upgrade>

  <upgrade version="020">
    <create_table>
      <file name="mssql\busCore\up020\alter_table.sql" type="sqlstatementlist" delimiter=";" keepdelimiter="NO"/>
    </create_table>
  </upgrade>

  <upgrade version="021">
    <create_table>
      <file name="mssql\busCore\up021\create_table.sql" type="sqlstatementlist" delimiter=";" keepdelimiter="NO"/>
    </create_table>
  </upgrade>

  <upgrade version="022">
    <create_table>
      <file name="mssql\busCore\up022\drop_table.sql" type="sqlstatementlist" delimiter=";" keepdelimiter="NO"/>
    </create_table>
  </upgrade>

  <upgrade version="023">
    <create_table>
      <file name="mssql\busCore\up023\alter_table.sql" type="sqlstatementlist" delimiter=";" keepdelimiter="NO"/>
    </create_table>
  </upgrade>

  <upgrade version="024">
    <create_table>
      <file name="mssql\busCore\up024\alter_table.sql" type="sqlstatementlist" delimiter=";" keepdelimiter="NO"/>
    </create_table>
  </upgrade>

  <upgrade version="025">
    <create_table>
      <file name="mssql\busCore\up025\alter_table.sql" type="sqlstatementlist" delimiter=";" keepdelimiter="NO"/>
    </create_table>
  </upgrade>

  <upgrade version="026">
    <create_table>
      <file name="mssql\busCore\up026\alter_init.sql" type="sqlstatementlist" delimiter=";" keepdelimiter="NO"/>
    </create_table>
  </upgrade>
  
  <upgrade version="027">
    <create_table>
      <file name="mssql\busCore\up027\alter_table.sql" type="sqlstatementlist" delimiter=";" keepdelimiter="NO"/>
    </create_table>
    <create_table>
      <file name="uniqueId2LowerCase.jar" type="javalib" classname="org.silverpeas.migration.uniqueid.FixCaseInUniqueId" methodname="migrate"/>
    </create_table>
  </upgrade>

  <upgrade version="028">
    <create_table>
      <file name="mssql\busCore\up028\alter_table.sql" type="sqlstatementlist" delimiter=";" keepdelimiter="NO"/>
    </create_table>
  </upgrade>

</contribution>
